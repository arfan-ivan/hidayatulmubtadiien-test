<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>Pondok Pesantren Hidayatul Mubtadiien</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">

        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Playball&display=swap" rel="stylesheet">

        <!-- Icon Font Stylesheet -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

        <!-- Libraries Stylesheet -->
        <link href="lib/animate/animate.min.css" rel="stylesheet">
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
        <link href="lib/owlcarousel/owl.carousel.min.css" rel="stylesheet">

        <!-- Customized Bootstrap Stylesheet -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
        <script async src="https://www.instagram.com/embed.js"></script>
    </head>

    <body>

        <!-- Spinner Start -->
        <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
            <div class="spinner-grow text-primary" role="status"></div>
        </div>
        <!-- Spinner End -->


        <!-- Navbar start -->
        <div class="container-fluid nav-bar">
            <div class="container">
                <nav class="navbar navbar-light navbar-expand-lg py-4">
                    <a href="index.html" class="navbar-brand">
                        <img src="img/logo.png" height="66px" alt="">
                        <!-- <h1 class="text-primary fw-bold mb-0">Hidayatul<span class="text-dark">Mubtadiien</span> </h1> -->
                    </a>
                    <button class="navbar-toggler py-2 px-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                        <span class="fa fa-bars text-primary"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarCollapse">
                        <div class="navbar-nav mx-auto">
                            <a href="index.html" class="nav-item nav-link active">Home</a>
                            <a href="about.html" class="nav-item nav-link">Profil Pondok</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pendidikan Formal</a>
                                <div class="dropdown-menu bg-light">
                                    <a href="book.html" class="dropdown-item">SMP Ababil</a>
                                    <a href="blog.html" class="dropdown-item">SMK HIdayatul Mubtadiien</a>
                                    <a href="404.html" class="dropdown-item">404 Page</a>
                                </div>
                            </div>
                            <a href="contact.html" class="nav-item nav-link">Contact</a>
                        </div>
                        <!-- <button class="btn-search btn btn-primary btn-md-square me-4 rounded-circle d-none d-lg-inline-flex" data-bs-toggle="modal" data-bs-target="#searchModal"><i class="fas fa-search"></i></button>
                        <a href="" class="btn btn-primary py-2 px-4 d-none d-xl-inline-block rounded-pill">Book Now</a> -->
                    </div>
                </nav>
            </div>
        </div>
        <!-- Navbar End -->


        <!-- Modal Search Start -->
        <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content rounded-0">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Search by keyword</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body d-flex align-items-center">
                        <div class="input-group w-75 mx-auto d-flex">
                            <input type="search" class="form-control bg-transparent p-3" placeholder="keywords" aria-describedby="search-icon-1">
                            <span id="search-icon-1" class="input-group-text p-3"><i class="fa fa-search"></i></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Search End -->


        <!-- Hero Start -->
        <div class="container-fluid bg-light py-6 my-6 mt-0">
            <div class="container">
                <div class="row g-5 align-items-center">
                    <div class="col-lg-7 col-md-12">
                        <small class="d-inline-block fw-bold text-dark text-uppercase bg-light border border-primary rounded-pill px-4 py-1 mb-4 animated bounceInDown">Pondok Pesantren</small>
                        <h1 class="display-1 mb-4 animated bounceInDown"><span class="text-primary">Hidayatul Mubtadiien </span>Liboyo 2 Turen</h1>
                        <!-- <a href="" class="btn btn-primary border-0 rounded-pill py-3 px-4 px-md-5 me-4 animated bounceInLeft"></a>
                        <a href="" class="btn btn-primary border-0 rounded-pill py-3 px-4 px-md-5 animated bounceInLeft">Know More</a> -->
                    </div>
                    <div class="col-lg-5 col-md-12">
                        <img src="img/hidayatulmubtadiien.png" class="img-fluid rounded animated zoomIn" alt="">
                    </div>
                </div>
            </div>
        </div>
        <!-- Hero End -->


        <!-- About Satrt -->
        <div class="container-fluid py-6">
            <div class="container">
                <div class="row g-5 align-items-center">
                    <div class="col-lg-5 wow bounceInUp" data-wow-delay="0.1s">
                        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEidEVyDlTjlDzZsBrpiBh4hodhgQuHNuP0asKZa4xVXAzHWV9m92ZdBg8f77lgdwQCdEpHzXzP90Ykt1gGk3g9e6cLDGPnScEEZtrDdgPWkHx_iRofQP4HxE2MRUvw9CWZUl9Dpcg5227FmGjkz4rUiVn64sjzhbKE4h7SIPfxx6pt9LynUsO2LN9XSJqlr/w640-h426/baru(1).jpg" class="img-fluid rounded" alt="">
                    </div>
                    <div class="col-lg-7 wow bounceInUp" data-wow-delay="0.3s">
                        <small class="d-inline-block fw-bold text-dark text-uppercase bg-light border border-primary rounded-pill px-4 py-1 mb-3">Profil Pesantren</small>
                        <h1 class="display-5 mb-4">Sejarah Berdirinya Pondok Pesantren Hidayatul Mubtadi'in Lirboyo 2 Turen </h1>
                        <p class="mb-4">Turen, Kabupaten Malang, 09 Mei 2023 - Pesantren ini bermula ketika tahun 1990 Dr. Suprapto Syamsi (dokter tentara karyawan PT. PINDAD) mewakafkan tanahnya kepada Pondok Pesantren Lirboyo. Setelah ikrar wakaf tanah seluas 3200 m2 tersebut diterima Pengasuh Pondok Pesantren Lirboyo KH. A. Idris Marzuqi, maka dibentuklah panitia pembangunan. Setelah pembangunannya selesai, mulailah diupayakan untuk menempatkan pengajar di Pondok Turen. Namun setelah dicoba sampai tiga kali, pengajar yang ditempatkan disana selalu tidak betah. Sehingga kemudian sempat tidak berpenghuni.</p>
                        <a href="https://hidayatulmubtadien.blogspot.com/2025/01/sejarah-berdirinya-pondok-pesantren.html" class="btn btn-primary py-3 px-5 rounded-pill">Selengkapnya<i class="fas fa-arrow-right ps-2"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- About End -->

        <!-- Events Start -->
        <div class="container-fluid event py-6">
            <div class="container">
                <div class="text-center wow bounceInUp" data-wow-delay="0.1s">
                    <small class="d-inline-block fw-bold text-dark text-uppercase bg-light border border-primary rounded-pill px-4 py-1 mb-3">Media Pesantren</small>
                    <h1 class="display-5 mb-5">Kegiatan seputar Pondok Pesantren Hidayatul Mubtadiien lirboyo 2 turen </h1>
                </div>
                <div class="tab-class text-center">
                    <ul class="nav nav-pills d-inline-flex justify-content-center mb-5 wow bounceInUp" data-wow-delay="0.1s">
                        <li class="nav-item p-2">
                            <a class="d-flex mx-2 py-2 border border-primary bg-light rounded-pill active" data-bs-toggle="pill" onclick="fetchBlogPosts('latest')" href="#tab-1">
                                <span class="text-dark" style="width: 150px;">Terbaru</span>
                            </a>
                        </li>
                        <li class="nav-item p-2">
                            <a class="d-flex py-2 mx-2 border border-primary bg-light rounded-pill" data-bs-toggle="pill" onclick="fetchBlogPosts('popular')" href="#tab-2">
                                <span class="text-dark" style="width: 150px;">Populer</span>
                            </a>
                        </li>
                        <li class="nav-item p-2">
                            <a class="d-flex mx-2 py-2 border border-primary bg-light rounded-pill" data-bs-toggle="pill" onclick="fetchBlogPosts('all')" href="#tab-3">
                                <span class="text-dark" style="width: 150px;">Semua</span>
                            </a>
                        </li>
                        <li class="nav-item p-2">
                            <a class="d-flex mx-2 py-2 border border-primary bg-light rounded-pill" data-bs-toggle="pill" href="https://hidayatulmubtadien.blogspot.com/">
                                <span class="text-dark" style="width: 150px;">Selengkapnya</span>
                            </a>
                        </li>
                    </ul>
                    <div class="row" id="latest-posts">Memuat postingan...</div>
                
                    <script>
                        async function fetchBlogPosts(filter = 'latest') {
                            const rssUrl = "https://hidayatulmubtadien.blogspot.com/feeds/posts/default?alt=rss";
                            const proxyUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
                            
                            try {
                                const response = await fetch(proxyUrl);
                                const data = await response.json();
                                
                                if (data.status !== "ok") {
                                    throw new Error("Gagal mengambil RSS feed");
                                }
                                
                                let latestHtml = "";
                                let posts = [];
                                
                                if (filter === 'latest') {
                                    posts = data.items.slice(0, 9);
                                } else if (filter === 'popular') {
                                    posts = data.items.slice(-9);
                                } else {
                                    posts = data.items;
                                }
                                
                                posts.forEach(item => {
                                    latestHtml += createPostHTML(item);
                                });
                                
                                document.getElementById("latest-posts").innerHTML = latestHtml;
                                
                            } catch (error) {
                                document.getElementById("latest-posts").innerHTML = "Gagal memuat postingan.";
                                console.error("Error fetching RSS feed:", error);
                            }
                        }
                        
                        function createPostHTML(item) {
                            const imageMatches = item.description.match(/<img[^>]+src=["']([^"']+)["']/);
                            let image = imageMatches ? imageMatches[1] : "https://via.placeholder.com/300";
                            
                            return `
                                <div class="col-lg-4 col-md-6 mb-4">
                                    <div class="card">
                                        <img src="${image}" class="card-img-top" alt="Post Image">
                                        <div class="card-body">
                                            <h5 class="card-title"><a href="${item.link}" target="_blank" class="text-decoration-none">${item.title}</a></h5>
                                            <p class="card-text">${item.description.replace(/<[^>]*>?/gm, '').substring(0, 100)}...</p>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }
                        
                        fetchBlogPosts();
                    </script>
                </div>
            </div>
        </div>
        <!-- Events End -->


        <!-- Menu Start -->
        <div class="container-fluid menu bg-light py-6 my-6">
            <div class="container">
                <div class="text-center wow bounceInUp" data-wow-delay="0.1s">
                    <small class="d-inline-block fw-bold text-dark text-uppercase bg-light border border-primary rounded-pill px-4 py-1 mb-3">Media Digital Pesantren</small>
                    <h1 class="display-5 mb-5">Media Digital Pesantren</h1>
                </div>
                <div class="tab-class text-center">
                    <ul class="nav nav-pills d-inline-flex justify-content-center mb-5 wow bounceInUp" data-wow-delay="0.1s">
                        <li class="nav-item p-2">
                            <a class="d-flex py-2 mx-2 border border-primary bg-white rounded-pill active" data-bs-toggle="pill" id="btnYoutube" href="#tab-6">
                                <span class="text-dark" style="width: 150px;">Youtube</span>
                            </a>
                        </li>
                        <li class="nav-item p-2">
                            <a class="d-flex py-2 mx-2 border border-primary bg-white rounded-pill" data-bs-toggle="pill" id="btnInstagram" href="#tab-7">
                                <span class="text-dark" style="width: 150px;">Instagram</span>
                            </a>
                        </li>
                        <li class="nav-item p-2">
                            <a class="d-flex py-2 mx-2 border border-primary bg-white rounded-pill" data-bs-toggle="pill" href="#tab-8">
                                <span class="text-dark" style="width: 150px;">Facebook</span>
                            </a>
                        </li>
                    </ul>
                    <!-- media pesantren -->

            <div class="row" id="postsContainer"></div>
            
            <script type="module">
                import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
                import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js";
            
                const firebaseConfig = {
                    apiKey: "AIzaSyB11hwqAOGU7o3VHjcIZ3uAre1E5xZ0ZsI",
                    authDomain: "hidayatulmubtadien-ab09b.firebaseapp.com",
                    databaseURL: "https://hidayatulmubtadien-ab09b-default-rtdb.asia-southeast1.firebasedatabase.app",
                    projectId: "hidayatulmubtadien-ab09b",
                    storageBucket: "hidayatulmubtadien-ab09b.firebasestorage.app",
                    messagingSenderId: "138212482070",
                    appId: "1:138212482070:web:f9a24b03a99f5dcab9a937"
                };
            
                const app = initializeApp(firebaseConfig);
                const db = getDatabase(app);
            
                document.addEventListener("DOMContentLoaded", () => {
                    const postsContainer = document.getElementById("postsContainer");
                    const btnYoutube = document.getElementById("btnYoutube");
                    const btnInstagram = document.getElementById("btnInstagram");
                    let savedPosts = [];
            
                    async function fetchPostsFromFirebase() {
                        try {
                            const snapshot = await get(child(ref(db), "posts"));
                            if (snapshot.exists()) {
                                savedPosts = Object.values(snapshot.val());
                            } else {
                                savedPosts = [];
                            }
                            renderPosts("youtube"); // Tampilkan YouTube secara default
                        } catch (error) {
                            console.error("Error fetching posts from Firebase:", error);
                        }
                    }
            
                    function renderPosts(type) {
                        postsContainer.innerHTML = "";
            
                        if (type === "youtube") {
                            const youtubePosts = savedPosts
                                .filter(post => post.type === "youtube")
                                .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)); // Urutkan dari terbaru
            
                            if (youtubePosts.length > 0) {
                                const { url: firstVideoURL, description: firstVideoDescription } = youtubePosts[0];
                                const firstVideoEmbedURL = firstVideoURL.replace("watch?v=", "embed/").replace("youtu.be/", "www.youtube.com/embed/");
            
                                postsContainer.innerHTML += `
                                    <div class="container">
                                        <div class="row justify-content-center mb-2">
                                            <div class="col-lg-12 col-md-10 col-12">
                                                <div class="card mx-auto">
                                                    <iframe width="100%" height="450" src="${firstVideoEmbedURL}" frameborder="0" allowfullscreen></iframe>
                                                    <div class="card-body text-center">
                                                        ${firstVideoDescription ? `<p>${firstVideoDescription}</p>` : ""}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
            
                                if (youtubePosts.length > 1) {
                                    postsContainer.innerHTML += `<div class="row">`;
                                    youtubePosts.slice(1).forEach(({ url, description }) => {
                                        const videoEmbedURL = url.replace("watch?v=", "embed/").replace("youtu.be/", "www.youtube.com/embed/");
                                        postsContainer.innerHTML += `
                                            <div class="col-md-4 mb-4">
                                                <div class="card">
                                                    <iframe width="100%" height="150" src="${videoEmbedURL}" frameborder="0" allowfullscreen></iframe>
                                                    <div class="card-body text-center">
                                                        ${description ? `<p>${description}</p>` : ""}
                                                    </div>
                                                </div>
                                            </div>
                                        `;
                                    });
                                    postsContainer.innerHTML += `</div>`;
                                }
                            }
                        } else if (type === "instagram") {
                            const instagramPosts = savedPosts.filter(post => post.type === "instagram");
                            if (instagramPosts.length > 0) {
                                postsContainer.innerHTML += `<div class="row justify-content-center">`;
                                instagramPosts.forEach(({ url, description }) => {
                                    postsContainer.innerHTML += `
                                        <div class="col-12 col-md-6 col-lg-4 d-flex justify-content-center mb-4">
                                            <div class="card" style="width: 100%; max-width: 350px;">
                                                <blockquote class="instagram-media" data-instgrm-permalink="${url}" data-instgrm-version="14"></blockquote>
                                                <div class="card-body text-center">
                                                    ${description ? `<p>${description}</p>` : ""}
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                });
                                postsContainer.innerHTML += `</div>`;
                            }
                            window.instgrm.Embeds.process(); // Instagram
                        }
                    }
            
                    // Event listener untuk tombol
                    btnYoutube.addEventListener("click", () => renderPosts("youtube"));
                    btnInstagram.addEventListener("click", () => renderPosts("instagram"));
            
                    fetchPostsFromFirebase();
                });
            </script>
                </div>
            </div>
        </div>

        <style>
            .peta {
                display: flex;
                align-items: center;
                justify-content: center;
                max-width: 1200px;
                margin: 50px auto;
                gap: 20px;
                flex-wrap: wrap;
            }
        
            .info {
                width: 100%;
                padding: 20px;
                background: #f4f4f4;
                border-radius: 8px;
            }
        
            .info h2 {
                margin-bottom: 10px;
            }
        
            .info p {
                margin-bottom: 8px;
                line-height: 1.5;
            }
        
            .map {
                width: 100%;
            }
        
            iframe {
                width: 100%;
                height: 300px;
                border-radius: 8px;
            }
        
            /* Responsif untuk layar kecil */
            @media (max-width: 768px) {
                .peta {
                    flex-direction: column;
                    align-items: center;
                    gap: 10px;
                }
        
                .info, .map {
                    width: 100%;
                    text-align: center;
                }
        
                iframe {
                    height: 350px;
                }
            }
        
            @media (max-width: 480px) {
                iframe {
                    height: 400px;
                }
            }
        </style>
        
        <div class="peta">
            <div class="info">
                <h2>Alamat</h2>
                <p><strong>Pondok Pesantren Hidayatul Mubtadiien</strong></p>
                <p><strong>Alamat:</strong> RMCR+564, Jl. Raya Gatot Subroto, Turen, Kec. Turen, Kabupaten Malang, Jawa Timur 65175</p>
                <p><strong>Email:</strong> hidayatulmibtadien8@gmail.com</p>
                <p><strong>Telepon:</strong> +62 8xxxxxxxx</p>
            </div>
            <div class="map">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15796.914153087022!2d112.6742793813362!3d-8.179717485071892!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd61f6a6139e4eb%3A0xd1f8464feb81e890!2sPondok%20Pesantren%20%22%20Hidayatul%20Mubtadi-in%22!5e0!3m2!1sid!2sid!4v1739634026443!5m2!1sid!2sid" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>

        <!-- Copyright Start -->
        <div class="container-fluid copyright bg-dark py-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        <span class="text-light"><a href="https://www.instagram.com/kknt.11.pphidayatulmubtadiin?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="><i class="fas fa-copyright text-light me-2"></i>KKN-T.11 Universitas Islam Raden Rahmat Malang</a>, All right reserved.</span>
                    </div>
                    <div class="col-md-6 my-auto text-center text-md-end text-white">
                        <a class="border-bottom" href="login.html">Login</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Copyright End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-md-square btn-primary rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>   

        
        <!-- JavaScript Libraries -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/counterup/counterup.min.js"></script>
        <script src="lib/lightbox/js/lightbox.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>

        <!-- Template Javascript -->
        <script src="js/main.js"></script>
    </body>
</html>
